(window["webpackJsonpdoodleblue-mail-app"]=window["webpackJsonpdoodleblue-mail-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/doodlebluelogo.8f900bba.png"},37:function(e,t,a){e.exports=a(55)},42:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),c=a.n(i),l=(a(42),a(9)),s=a(11),o=a(26),m=a.n(o),u=a(34),d=a(27),p=a(18),h=a(19),b=a(23),f=a(20),E=a(10),v=a(22),g=(a(44),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).state={firstName:"",lastName:"",emailId:"",mobileNum:"",profilepic:"",userId:"",mandatory:{firstName:{name:"First Name",required:!0},lastName:{name:"Last Name",required:!0},emailId:{name:"Email ID",required:!0},mobileNum:{name:"Mobile Number",required:!0},profilepic:{name:"Profile Picture",required:!0}}},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(a)),a.handleLoadImage=a.handleLoadImage.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"handleLoadImage",value:function(e){var t=window.URL.createObjectURL(e.target.files[0]);this.setState(Object(d.a)({},e.target.name,t))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!1!==this.handleValidation()){e.next=3;break}return e.abrupt("return");case 3:return a="".concat(this.state.firstName.toLowerCase(),"_").concat((new Date).getTime()),e.next=6,this.setState({userId:a});case 6:this.props.addUser(this.state),this.props.setInitMailCount(this.state),alert("User Added successfully"),this.props.history.push("/mailApp/inbox/".concat(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleValidation",value:function(){for(var e=!0,t=Object.keys(this.state.mandatory),a=0;a<t.length;a++){var n=t[a];if(this.state.mandatory[n].required&&""===this.state[n]){document.querySelector("input[name='".concat(n,"']")).focus(),alert("".concat(this.state.mandatory[n].name," is mandatory")),e=!1;break}}return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"create-acc-containter"},r.a.createElement("div",{className:"create-acc-content"},r.a.createElement("form",{id:"addUserForm",className:"create-acc-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.state.firstName},"First Name*"),r.a.createElement("input",{type:"text",value:this.state.firstName,name:"firstName",onChange:this.handleInputChange,placeholder:"Doodleblue"})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.state.lastName},"Last Name*"),r.a.createElement("input",{type:"text",value:this.state.lastName,name:"lastName",onChange:this.handleInputChange,placeholder:"Innovations"})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.state.emailId},"Email ID*"),r.a.createElement("input",{type:"email",value:this.state.emailId,name:"emailId",onChange:this.handleInputChange,placeholder:"doodleblue@example.com"})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.state.mobileNum},"Mobile No*"),r.a.createElement("input",{type:"number",value:this.state.mobileNum,name:"mobileNum",onChange:this.handleInputChange,placeholder:"00000 00000"})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"profilepic"},"Profile Image"),r.a.createElement("input",{type:"file",name:"profilepic",onChange:this.handleLoadImage,placeholder:"Choose file"}))),r.a.createElement("button",{id:"addUser",onClick:this.handleSubmit},"Add")))}}]),t}(r.a.Component)),y=Object(s.f)(g),N=a(14);a(49);function I(e){var t=e.mails;return 0==t.length?r.a.createElement("div",{className:"mail-dets-list-content",style:{textAlign:"center",paddingTop:"30px",fontSize:"25px"}},"No mail is present in the box!!!"):r.a.createElement("div",{className:"mail-dets-list-content"},t.map(function(e){var t="mail-dets-list";return e.readFlag||(t+=" unread-mail-body"),r.a.createElement("div",{className:t,key:e.mailTime},r.a.createElement("div",{className:"mail-subject"},e.mailSubject),r.a.createElement("div",{className:"mail-body"},e.mailBody),r.a.createElement("div",{className:"mail-time"},e.mailTime))}))}a(50);var O=Object(s.f)(function(e){var t=e.inbox,a=e.sent,n=e.history,i=e.user,c=e.location;return console.log(c.pathname),r.a.createElement("div",{className:"side-nav-bar"},r.a.createElement("button",{id:"composeMailBtn",onClick:function(){return e.composeMail()}},"Compose"),r.a.createElement("ul",null,r.a.createElement("li",{className:c.pathname.indexOf("/inbox/")>0?"active":"",onClick:function(){return n.push("/mailApp/inbox/".concat(i.userId))}},"Inbox",r.a.createElement("span",{className:"unread-mail",id:"unreadMailInbox"},t)),r.a.createElement("li",{className:c.pathname.indexOf("/sent/")>0?"active":"",onClick:function(){return n.push("/mailApp/sent/".concat(i.userId))}},"Sent",r.a.createElement("span",{className:"unread-mail",id:"unreadMailSent"},a))))}),j=a(15),x=a(2),C=function(e){return{type:"CREATEACCOUNT",payload:e}},k=function(e){return{type:"SENDMAIL",payload:e}},L=function(e){return{type:"INITIALMAILCOUNT",payload:e}};a(51);function S(e){var t=e.user.userId,a=Object(x.d)(function(e){return e.accReducer}),i=Object(x.c)(),c=Object(n.useState)([]),l=Object(N.a)(c,2),s=l[0],o=l[1],m=Object(n.useState)([]),u=Object(N.a)(m,2),d=u[0],p=u[1],h=function(e){document.querySelector(".user-mail-list").classList.remove("active");var t=e.target.getAttribute("data-key");e.target.classList.contains("user-mail-details")||(t=e.target.parentElement.getAttribute("data-key")),p([].concat(Object(j.a)(d),[t])),o([]),e.target.value=""},b=function(e){var t=e.target.parentElement,a=t.getAttribute("data-key"),n=d.filter(function(e){return e!==a});p([n]),t.remove()};return r.a.createElement("div",{className:"compose-mail"},r.a.createElement("div",{className:"header"},"New Message",r.a.createElement("button",{id:"closeComposeMail",onClick:function(){return e.composeMail()}},"X")),r.a.createElement("div",{className:"container recipient-container"},r.a.createElement("div",{className:"recipientList"},d.map(function(e){return r.a.createElement("span",{className:"recipient",key:e,"data-key":e},a[e]&&a[e].firstName,r.a.createElement("span",{className:"recipient-del",onClick:b},"X"))})),r.a.createElement("input",{id:"recipientInp",name:"recipients",placeholder:"Recipients (Type username here)",onChange:function(e){var n=e.target.value;if(n.length>=3){var r=Object.keys(a).filter(function(e){return t!==e&&a[e]&&a[e].firstName.toLowerCase().startsWith(n.toLowerCase())});r.length>0&&(o([r]),document.querySelector(".user-mail-list").classList.add("active"))}else document.querySelector(".user-mail-list").classList.remove("active")}})),r.a.createElement("div",{className:"container subject-container"},r.a.createElement("input",{id:"subjectInp",type:"text",name:"subject",placeholder:"Subject"})),r.a.createElement("div",{className:"container message-container"},r.a.createElement("textarea",{id:"messageInp",name:"message",placeholder:"Type Something here.."})),r.a.createElement("div",{className:"container footer"},r.a.createElement("button",{id:"sendMailBtn",onClick:function(){var a=new Date,n={senderId:t,recipientsId:d,mailSubject:document.getElementById("subjectInp").value,mailBody:document.getElementById("messageInp").value,mailTime:"".concat(a.getMonth()+1,"/").concat(a.getDate(),"/").concat(a.getFullYear()," ").concat(a.getHours(),":").concat(a.getMinutes())};i(k(n)),alert("Mail sent!!!"),e.composeMail()}},"Send")),r.a.createElement("div",{className:"user-mail-list"},s.map(function(e){return r.a.createElement("div",{className:"user-mail-details",key:e,"data-key":e,onClick:h},r.a.createElement("div",{className:"user-mail-name"},a[e].firstName),r.a.createElement("div",{className:"user-mail-id"},a[e].emailId))})))}var A=a(21),w=a.n(A);a(52);var M=Object(s.f)(function(e){var t=e.history,a=e.user,i=a.userId,c=a.firstName,l=a.profilepic,s=Object(x.d)(function(e){return e.accReducer});Object(n.useEffect)(function(){var e=document.querySelector("#currUser"),t=document.querySelector("#userList");e.addEventListener("mouseover",function(){document.getElementById("userList").classList.add("active")}),e.addEventListener("mouseout",function(){document.getElementById("userList").classList.remove("active")}),t.addEventListener("mouseover",function(){document.getElementById("userList").classList.add("active")}),t.addEventListener("mouseout",function(){document.getElementById("userList").classList.remove("active")})},[]);var o=function(e){var a=e.target.getAttribute("data-key");"DIV"===e.target.tagName&&(a=e.target.parentElement.getAttribute("data-key")),"SPAN"===e.target.tagName&&(a=e.target.parentElement.parentElement.getAttribute("data-key")),t.push("/mailApp/inbox/".concat(a))};return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:w.a,alt:"doodleblue"})),r.a.createElement("div",{className:"userDetails"},r.a.createElement("button",{id:"createAccBtn",onClick:function(){return t.push("/createAccount")}},"Create Account"),r.a.createElement("div",{id:"currUser"},r.a.createElement("span",{key:i,className:"userName"},c),r.a.createElement("img",{src:l,alt:"profilepic",className:"userPic"})),r.a.createElement("ul",{id:"userList"},Object.keys(s).map(function(e){if(s[e].userId!==i)return r.a.createElement("li",{key:s[e].userId,"data-key":s[e].userId,onClick:o},r.a.createElement("div",{className:"user-list-content"},r.a.createElement("span",{className:"userName"},s[e].firstName)))}))))});function T(e){var t=e.match,a=Object(x.d)(function(e){return e.accReducer[t.params.userId]}),i=Object(x.d)(function(e){return e.mailReducer[a.userId].inboxmail}),c=Object(x.d)(function(e){return e.mailReducer[a.userId].sentmail}),l=Object(x.d)(function(e){return e.mailReducer[a.userId].inboxcount}),o=Object(x.d)(function(e){return e.mailReducer[a.userId].sentcount}),m=Object(n.useState)(!1),u=Object(N.a)(m,2),d=u[0],p=u[1],h=function(){p(!d)};return r.a.createElement("div",{className:"mail-dets-content"},r.a.createElement(M,{user:a}),r.a.createElement("div",{className:"mail-details",style:{width:"100%",height:"90vh",overflow:"hidden",display:"inline-flex"}},r.a.createElement(O,{user:a,composeMail:h,inbox:l,sent:o}),r.a.createElement(s.a,{exact:!0,path:"/mailApp/sent/:userId",component:function(){return r.a.createElement(I,{user:a,mails:c})}}),r.a.createElement(s.a,{exact:!0,path:"/mailApp/inbox/:userId",component:function(){return r.a.createElement(I,{user:a,mails:i})}}),d?r.a.createElement(S,{user:a,composeMail:h}):""))}a(53);var B=a(31);var D=Object(s.f)(function(e){var t=e.history;return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"logo-container"},r.a.createElement(B.a,{from:{x:"0px",y:"100px",opacity:0},to:{x:"0px",y:"0px",opacity:1},duration:.7},r.a.createElement("img",{src:w.a,id:"brandlogo",alt:"brandlogo"})),r.a.createElement(B.a,{from:{y:"50px",opacity:0},to:{y:0,opacity:1},duration:.5,delay:.2},r.a.createElement("button",{onClick:function(){return t.push("/doodleblue-mail-app/createAccount")}},"Create Account"))))}),R=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).state={hasError:!1},console.log(e),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.state.hasError?r.a.createElement("div",{className:"error-container"},r.a.createElement("h1",{style:{margin:"10px 0px"}},"Oops!!! Something went wrong."),r.a.createElement("h3",{style:{margin:"10px 0px"}},"Click below to go to Home page"),r.a.createElement("button",{style:{margin:"10px 0px",maxWidth:"200px"},id:"createAccBtn",onClick:function(){e.props.history.push("/doodleblue-mail-app/"),document.location.reload()}},"Go to HomePage")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(n.Component),U=Object(s.f)(R);a(54);var F=function(){var e={addUser:C,setInitMailCount:L};return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{basename:"/"},r.a.createElement(s.c,null,r.a.createElement(U,null,r.a.createElement(s.a,{path:"/",component:D,exact:!0}),r.a.createElement(s.a,{path:"/createAccount",component:Object(x.b)(null,e)(y),exact:!0}),r.a.createElement(s.a,{path:"/mailApp/inbox/:userId",component:T,exact:!0}),r.a.createElement(s.a,{path:"/mailApp/sent/:userId",component:T,exact:!0})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(12),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATEACCOUNT":var a={};return a[t.payload.userId]=t.payload,e=Object.assign({},e,a);default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALMAILCOUNT":var a={inboxcount:0,sentcount:0,inboxmail:[],sentmail:[]},n={};return n[t.payload.userId]=a,e=Object.assign({},e,n);case"SENDMAIL":var r={inboxcount:0,sentcount:0,inboxmail:[],sentmail:[]},i=!1,c={},l=t.payload,s=l.senderId,o=l.recipientsId,m=l.mailSubject,u=l.mailBody,d=l.mailTime,p=void 0===e[s]?r:e[s];return p.sentcount+=1,p.sentmail=[].concat(Object(j.a)(p.sentmail),[{mailSubject:m,mailBody:u,mailTime:d,readFlag:i}]),c[s]=p,o.map(function(t){var a=void 0===e[t]?r:e[t];a.inboxcount+=1,a.inboxmail=[].concat(Object(j.a)(a.inboxmail),[{mailSubject:m,mailBody:u,mailTime:d,readFlag:i}]),c[t]=a}),e=Object.assign({},e,c);default:return e}},X=Object(_.b)({accReducer:q,mailReducer:P}),V=Object(_.c)(X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(x.a,{store:V},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.38a6a2d3.chunk.js.map